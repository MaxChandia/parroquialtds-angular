<app-navbar></app-navbar>

<div class="home-container">
  <section class="hero-section">
    <app-carrousel [images]="churchImages"></app-carrousel>
  </section>
  
  <section class="misasInformacion">
        <div class="misasInformacionContainer">
          <h2>Misas</h2>
          <p>Martes a Sábado: 20:00</p>
          <p>Domingos 12:00 y 20:00</p>
        </div>
        <div>
          <h2>Adoración al santísimo</h2>
          <p>Viernes después de</p>
          <p>Misa de 20:00</p>
        </div>
        <div>
          <h2>Horario de Atención</h2>
          <p>Martes a Sábado: 18:30 a 21:00 hrs.</p>
          <p>Domingo: 10:30 a 14:00 hrs.</p>
        </div>
  </section>
  <section class="parroquiaInfo">
        <img src="assets/misalanding.jpg"/>
        <button mat-button><a href="/comunidad">Conoce nuestra iglesia</a></button>
  </section>
   <section class="newsSection">
    <h2>Novedades Parroquiales</h2>
    <div *ngIf="loading" class="loading-container">
      <div class="loading-spinner"></div>
      <p>Cargando noticias...</p>
    </div>

    <div *ngIf="error && !loading" class="error-container">
      <p>{{ error }}</p>
      <button (click)="loadPosts()" class="retry-btn">Reintentar</button>
    </div>
    

    <div *ngIf="!loading && !error" class="posts-grid">
      <app-card 
        *ngFor="let post of posts" 
        [post]="post"
        [image]="getMainImage(post)"
        [title]="post.title"
        [description]="getTruncatedContent(post.content)"
        [slug]="post.slug"
        [createdAt]="post.createdAt">
      </app-card>
    </div>

    <!-- Empty state -->
    <div *ngIf="!loading && !error && posts.length === 0" class="empty-container">
      <p>No hay noticias disponibles en este momento.</p>
    </div>
    <button mat-button routerLink="/noticias" class="ver-todas-btn">
      Ver todas las noticias
    </button>
  </section>
  <section class="donacionLandingContainer">
    <div class="donacionLandingText">
      <h3>La caridad de Cristo</h3>
      <p>Tu aporte nos ayuda a seguir creciendo</p>
      <p>Banco Santander</p>
      <p>cuenta cte. N°3339505924</p>
      <p>Rut 81.735.106-9 </p>
      <p>email: tuparroquiainforma&#64;gmail.com</p>
    </div>
    <div class="donacionLandingImage">
      <img src="assets/1porciento.jpeg"/>
    </div>
  </section>
  
</div>

<app-footer></app-footer>